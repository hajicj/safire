[_info]
name=test_config

[_loader]
_class=safire.data.loaders.MultimodalShardedDatasetLoader
root=/var/data/safire
name=safire-notabloid

[_builder]
save=True
save_every=False
savename=_loader.get_pipeline_name(_info.name)
log_blocks=False
log_saving=False

[_assembly]
_#1=vtcorp
_#2=tfidf[_#1]
_#3=serializer[_#2]

[_persistence]
_#1=vtcorp
_#2=tfidf
_#3=tfidf.serialized

[tokenfilter]
_class=safire.data.filters.positionaltagfilter.PositionalTagTokenFilter
values=['N', 'A', 'V']
t_position=0

[vtcorp]
_class=safire.data.vtextcorpus.VTextCorpus
_label=NAV.pf0.3.pff.fc
input_root=_loader.root
vtlist=os.path.join(_loader.root, _loader.layout.vtlist)
token_filter=tokenfilter
pfilter=0.2
pfilter_full_freqs=True
filter_capital=True
precompute_vtlist=True

[tfidf]
_class=gensim.models.TfidfModel
_label=tfidf
corpus=_#1
normalize=True

[serializer]
_class=safire.data.serializer.Serializer
corpus=_#2
serializer_class=safire.data.sharded_corpus.ShardedCorpus
fname=_loader.generate_serialization_target(''.join(vtcorp.label, tfidf.label))
overwrite=False



